var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,n=(e,t)=>{for(var s in t||(t={}))o.call(t,s)&&a(e,s,t[s]);if(r)for(var s of r(t))i.call(t,s)&&a(e,s,t[s]);return e},l=(e,t,s)=>new Promise(((r,o)=>{var i=e=>{try{n(s.next(e))}catch(t){o(t)}},a=e=>{try{n(s.throw(e))}catch(t){o(t)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);n((s=s.apply(e,t)).next())}));import{B as p}from"./BasicForm.js";import{b as u,B as m,r as c,aM as d,I as j,s as f,cj as v,e as y,o as b,i as g,j as h,k as O,X as w,aL as x}from"./index.js";import{u as P,B as C}from"./index2.js";import{j as B}from"./miao.api.js";import{u as F}from"./miao.data.js";import"./index4.js";import"./index5.js";import"./useFormItem.js";import"./index3.js";import"./DeleteOutlined.js";import"./transButton.js";import"./upperFirst.js";import"./download.js";import"./index6.js";import"./index7.js";import"./uniqBy.js";import"./useWindowSizeFn.js";import"./FullscreenOutlined.js";import"./base64Conver.js";import"./lodash.default.js";import"./throttle.js";import"./merge.js";const M=u({__name:"ThemeConfigModal",props:{},emits:["register","success"],setup(e,{emit:r}){const o=e,i=r,a=m(),{createMessage:u}=x(),M=c(!1),_=c(),I=c(),[L,{closeModal:R,setModalProps:k}]=P((function(e){return l(this,null,(function*(){yield S(),I.value=e.name,_.value=v(null==e?void 0:e.style),yield W(n({},_.value))}))}));let A=F();const[D,{resetFields:S,setFieldsValue:W,validate:q}]=d({schemas:A,labelWidth:120,labelAlign:"right",labelCol:{xs:24,sm:5},wrapperCol:{xs:24,sm:19},showActionButtonGroup:!1,baseColProps:{span:24}}),z=j((()=>{let e={width:600,title:`编辑皮肤（${I.value}）`,confirmLoading:f(M)};var r;return r=n(n(n({},f(a)),e),o),t(r,s({onOk:G,onCancel:E,onRegister:L}))}));function E(){R()}function G(){return l(this,null,(function*(){try{let e=yield q(),t=Object.assign({},_.value,e);N(!0),yield B(I.value,t),u.success("保存成功~"),E(),i("success")}finally{N(!1)}}))}function N(e){M.value=e,k({confirmLoading:e})}return(e,t)=>{const s=y("a-spin");return b(),g(f(C),w(z.value,{destroyOnClose:""}),{default:h((()=>[O(s,{wrapperClassName:"p-2",spinning:M.value},{default:h((()=>[O(f(p),{onRegister:f(D)},null,8,["onRegister"])])),_:1},8,["spinning"])])),_:1},16)}}});export{M as default};
